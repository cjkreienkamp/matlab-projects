% Chris Kreienkamp, 901965168
% 11/8/17
% Homework 9

clear
clc
clf

data = [   0.0000000       1.0000000    
  0.10000000      0.90483332    
  0.20000000      0.81872332    
  0.30000001      0.74080813    
  0.40000001      0.67030787    
  0.50000000      0.60651690    
  0.60000002      0.54879671    
  0.70000005      0.49656954    
  0.80000007      0.44931266    
  0.90000010      0.40655306    
   1.0000001      0.36786276];
x = linspace(0,1,1000);
figure(1)
plot(data(:,1),data(:,2),'bo',x,exp(-x),'r-');
axis([0 1 0 1])
xlabel('t')
ylabel('y(t) = e^-^t')
legend('Numerical Approximation','Exact Solution')
set(gca,'FontSize',14)



%% Error

error = [1.0000000      3.45461369E-02
0.20000000      1.43975019E-04
 0.10000000      1.66296959E-05
5.00000007E-02  2.05636024E-06
 2.50000004E-02  2.38418579E-07
 1.66666675E-02  1.19209290E-07
1.25000002E-02  1.19209290E-07
 9.99999978E-03  2.08616257E-07
 4.99999989E-03  8.94069672E-08
2.49999994E-03  8.94069672E-08
1.66666671E-03  2.08616257E-07
 1.66666671E-03  2.08616257E-07
 1.00000005E-03  3.27825546E-07];

error2 = [1.0000000      3.45461369E-02
0.20000000      1.43975019E-04
 0.10000000      1.66296959E-05
5.00000007E-02  2.05636024E-06
 2.50000004E-02  2.38418579E-07
 1.66666675E-02  1.19209290E-07];

errorfit = fit(log(error2(:,1)),log(error2(:,2)),'poly1');
errorcoeff = coeffvalues(errorfit)

figure(2)
plot(log(error(:,1)),log(error(:,2)),'bo');hold on; plot(errorfit)
xlabel('log(\Delta t)')
ylabel('log( |Error| )')
set(gca,'FontSize',14)
legend('Error','Linear Fit','Location','Northwest')
axis([-7 0.25 -20 0])


